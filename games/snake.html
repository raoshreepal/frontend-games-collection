<!DOCTYPE html>
<html>
<head>
<title>Snake Game</title>
<style>
    body { background: #000; display: flex; justify-content: center; align-items: center; height: 100vh; }
    canvas { background: #111; }
</style>
</head>
<body>
<canvas id="game" width="400" height="400"></canvas>
<script>
let canvas = document.getElementById('game');
let ctx = canvas.getContext('2d');
let box = 20;
let snake = [{x: 9 * box, y: 9 * box}];
let food = {x: Math.floor(Math.random()*20)*box, y: Math.floor(Math.random()*20)*box};
let dx = box, dy = 0;

document.addEventListener('keydown', dir);
function dir(e) {
    if (e.keyCode == 37 && dx==0) {dx = -box; dy = 0;}
    else if (e.keyCode == 38 && dy==0) {dx = 0; dy = -box;}
    else if (e.keyCode == 39 && dx==0) {dx = box; dy = 0;}
    else if (e.keyCode == 40 && dy==0) {dx = 0; dy = box;}
}

function draw() {
    ctx.clearRect(0,0,400,400);
    snake.forEach((s, i) => {
        ctx.fillStyle = i==0 ? 'lime' : 'green';
        ctx.fillRect(s.x, s.y, box, box);
    });
    ctx.fillStyle = 'red';
    ctx.fillRect(food.x, food.y, box, box);

    let head = {x: snake[0].x + dx, y: snake[0].y + dy};
    if (head.x === food.x && head.y === food.y) {
        food = {x: Math.floor(Math.random()*20)*box, y: Math.floor(Math.random()*20)*box};
    } else {
        snake.pop();
    }

    if (head.x < 0 || head.x >= 400 || head.y < 0 || head.y >= 400 || snake.some(s => s.x==head.x && s.y==head.y)) {
        clearInterval(game);
        alert("Game Over!");
    }
    snake.unshift(head);
}
let game = setInterval(draw, 100);
</script>
</body>
</html>
